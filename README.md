# 三国冰河时代自动化脚本

这是一个用于三国冰河时代游戏的自动化脚本集合，使用 AutoHotkey v2 编写。

## 安装说明

1. 安装 AutoHotkey v2
   - 访问 [AutoHotkey 官网](https://www.autohotkey.com/)
   - 下载并安装 AutoHotkey v2 版本
   - 安装时选择"Add 'Run with AutoHotkey' to context menu"选项

2. 获取脚本
   ```bash
   git clone https://github.com/yourusername/GameAutomator.git
   cd GameAutomator
   ```

3. 运行脚本
   - 双击任意 `.ahk` 文件即可运行
   - 或右键点击文件，选择"Run with AutoHotkey"

## 快捷键说明

所有脚本通用快捷键：
- `F1`: 开始/暂停脚本
- `F2`: 停止脚本
- `F3`: 显示帮助信息
- `Escape`: 取消当前操作

通用点击器 (clicker.ahk) 额外快捷键：
- `F1`: 开始点击
- `F2`: 停止点击
- `F3`: 显示帮助
- `Escape`: 取消捕获

## 功能列表

### 1. 通用点击器 (clicker.ahk)
- 点击位置捕获功能
  - 按钮颜色状态反馈：
    - 初始状态：默认颜色
    - 等待捕获：橙色
    - 已捕获：浅绿色
- 支持单击和双击
- 可配置点击间隔
- 点击计数器
- 窗口位置：左下角（任务栏上方40像素）

使用步骤：
1. 运行 `clicker.ahk`
2. 点击"点击捕获位置"按钮
3. 移动鼠标到目标位置并点击
4. 设置点击间隔时间
5. 点击"开始点击"或按 F1 开始
6. 使用"测试点击"按钮测试位置
7. 点击计数器会记录总点击次数，可通过按钮重置

### 2. 驻防自动点击器 (garrison_clicker.ahk)
- 点击位置捕获功能
  - 按钮颜色状态反馈：
    - 初始状态：默认颜色
    - 等待捕获：橙色
    - 已捕获：浅绿色
- 需要捕获两个位置：
  1. 第一个位置：武将选择位置
  2. 第二个位置：确认发送位置
- 可配置首次启动时间（默认20:00）
- 可配置间隔时间（默认4分钟）
- 可配置延迟时间（默认1秒，可为负数）
- 可配置发送武将数量（默认2队）
- 自动执行点击序列：
  1. 第一个用户捕获位置
  2. 第二个用户捕获位置
  3. 固定位置 (1080, 740)
  4. 固定位置 (1080, 800)
- 点击计数器
- 窗口位置：左下角（任务栏上方40像素）

使用步骤：
1. 运行 `garrison_clicker.ahk`
2. 点击《点击捕获位置》按钮
3. 移动鼠标到第一个位置（武将选择位置）并点击
4. 移动鼠标到第二个位置（确认发送位置）并点击
5. 设置首次启动时间（可选）
6. 设置间隔时间（可选）
7. 设置延迟时间（可选）
8. 设置发送武将数量（可选，默认2队）
9. 点击《开始点击》或按F1开始
10. 点击计数器会记录总点击次数，可通过按钮重置

### 3. 山贼营寨自动刷怪 (bandit_camp_raider.ahk)
- 自动点击指定坐标进行刷怪
- 每5分钟循环一次
- 默认执行10轮
- 支持自动开始和暂停

### 4. 群雄混战自动任务 (sanguo_heroes.ahk)
- 自动点击指定坐标完成任务
- 每1分钟循环一次
- 默认执行5轮
- 支持自动开始和暂停

### 5. 训练士兵自动任务 (sanguo_train.ahk)
- 自动点击9个指定坐标进行训练
- 每9小时循环一次
- 默认执行10轮
- 支持自动开始和暂停

### 6. 华佗任务自动执行 (sanguo_huatuo.ahk)
- 自动点击指定坐标完成任务
- 每52秒循环一次
- 默认执行10轮
- 支持自动开始和暂停

### 7. 流寇自动刷怪 (sanguo_bandit.ahk)
- 自动点击指定坐标进行刷怪
- 每52秒循环一次
- 默认执行10轮
- 支持自动开始和暂停

### 8. 资源采集任务
- 采集肉 (collect_meat.ahk)
- 采集木 (collect_wood.ahk)
- 采集煤 (collect_coal.ahk)
- 采集铁 (collect_iron.ahk)
- 每个任务执行1轮
- 支持自动开始和暂停

### 9. 煮酒论英雄-个人挑战 (hero_challenge.ahk)
- 可设置挑战间隔时间（默认30秒）
- 可设置挑战次数（默认30次）
- 支持暂停/继续
- 支持重置计数
- 支持快捷键操作
- 自动执行四个固定位置的点击序列

## 通用功能

所有脚本都支持以下功能：
- F1：开始/暂停脚本
- F2：停止脚本
- F3：显示帮助信息
- 自动开始选项（可在配置文件中设置）
- 可配置的点击间隔
- 可配置的循环次数
- 可配置的等待时间

## 配置文件

所有配置都存储在 `config/settings.ini` 文件中，包括：
- 基本设置（点击间隔、自动开始等）
- 任务配置（坐标、等待时间、循环次数等）
- 窗口设置
- 区域定义
- 热键设置

## 注意事项

- 所有坐标都使用绝对屏幕坐标
- 脚本运行时会显示当前状态和进度
- 可以通过配置文件调整各种参数
- 建议在运行脚本前先测试坐标是否正确
- 确保游戏窗口处于活动状态
- 不要移动游戏窗口位置
- 如果脚本无法正常工作，请检查：
  1. AutoHotkey v2 是否正确安装
  2. 游戏窗口是否在前台
  3. 配置文件中的坐标是否正确

## 更新日志

### 2024-03-23
- 添加驻防自动点击器功能
  - 支持位置捕获
  - 可配置首次启动时间
  - 可配置间隔时间
  - 可配置延迟时间
  - 自动执行点击序列
  - 点击计数器
  - 窗口位置优化

### 2024-03-22
- 添加通用点击器功能
  - 支持位置捕获
  - 按钮颜色状态反馈
  - 点击计数器
  - 窗口位置优化
- 更新安装和使用说明

### 2024-03-21
- 添加训练士兵自动任务
- 更新群雄混战任务配置
- 优化山贼营寨任务配置
- 更新所有脚本的等待时间和循环次数

### 2024-03-20
- 添加群雄混战自动任务
- 优化配置文件结构
- 更新所有脚本的坐标配置

### 2024-03-19
- 添加山贼营寨自动刷怪功能
- 添加华佗任务自动执行功能
- 添加流寇自动刷怪功能
- 添加资源采集任务
- 创建基础配置文件

### 2024-03-18
- 添加煮酒论英雄-个人挑战功能
- 更新所有脚本的配置文件

## 开发环境

- AutoHotkey v2.0
- Windows 10/11

## 贡献指南

欢迎提交 Issue 和 Pull Request 来改进这个项目。

## 许可证

MIT License